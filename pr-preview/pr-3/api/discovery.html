<!DOCTYPE html>
<html lang="en" data-accent-color="red" data-content_root="../">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Route Discovery - pytest-routes</title><link rel="index" title="Index" href="../genindex.html" /><link rel="search" title="Search" href="../search.html" /><link rel="next" title="Strategy Generation" href="generation.html" /><link rel="prev" title="Configuration" href="config.html" /><script>
    function setColorMode(t){let e=document.documentElement;e.setAttribute("data-color-mode",t);let a=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,s=t;"auto"===t&&(s=a?"dark":"light"),"light"===s?(e.classList.remove("dark"),e.classList.add("light")):(e.classList.remove("light"),e.classList.add("dark"))}
    setColorMode(localStorage._theme||"auto");
  </script><link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=e1a1ceaf" />
    <link rel="stylesheet" type="text/css" href="../_static/shibuya.css?v=14737038" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
    <link media="print" rel="stylesheet" type="text/css" href="../_static/print.css?v=20ff2c19" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=94b6bb75" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
:root {
  --sy-f-text: "Inter", var(--sy-f-sys), var(--sy-f-cjk), sans-serif;
  --sy-f-heading: "Inter", var(--sy-f-sys), var(--sy-f-cjk), sans-serif;
}
</style>
    <meta property="og:type" content="website"/><meta property="og:title" content="Route Discovery"/>
    <meta name="twitter:card" content="summary"/>
  </head>
<body><div class="sy-head">
  <div class="sy-head-blur"></div>
  <div class="sy-head-inner sy-container mx-auto">
    <a class="sy-head-brand" href="../index.html">
      
      
      <strong>pytest-routes</strong>
    </a>
    <div class="sy-head-nav" id="head-nav">
      <nav class="sy-head-links"><ul><li class="link">
          <a href="https://litestar.dev/">
            <span>Litestar</span></a>
        </li><li class="link">
          <a href="https://pypi.org/project/pytest-routes/">
            <span>PyPI</span></a>
        </li></ul></nav>
      <div class="sy-head-extra flex items-center print:hidden"><form class="searchbox flex items-center" action="../search.html" method="get">
  <input type="text" name="q" placeholder="Search" />
  <kbd>/</kbd>
</form><div class="sy-head-socials">
  <a href="https://github.com/JacobCoffee/pytest-routes" aria-label="GitHub">
    <iconify-icon icon="simple-icons:github"></iconify-icon>
  </a></div></div>
    </div>
    <div class="sy-head-actions flex items-center shrink-0 print:hidden"><button class="js-theme theme-switch flex items-center"
data-aria-auto="Switch to light color mode"
data-aria-light="Switch to dark color mode"
data-aria-dark="Switch to auto color mode">
<i class="i-lucide theme-icon"></i>
</button><button class="md:hidden flex items-center js-menu" aria-label="Menu" type="button" aria-controls="head-nav" aria-expanded="false">
        <div class="hamburger">
          <span class="hamburger_1"></span>
          <span class="hamburger_2"></span>
          <span class="hamburger_3"></span>
        </div>
      </button>
    </div>
  </div>
</div>
<div class="sy-page sy-container flex mx-auto">
  <aside id="lside" class="sy-lside md:w-72 md:shrink-0 print:hidden">
    <div class="sy-lside-inner md:sticky">
      <div class="sy-scrollbar p-6">
        <div class="globaltoc" data-expand-depth="0"><p class="caption" role="heading" aria-level="3"><span class="caption-text">Learn</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../getting-started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage/index.html">Usage Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../usage/cli-options.html">CLI Options Reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usage/configuration.html">Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usage/authentication.html">Authentication</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usage/schemathesis.html">Schemathesis Integration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usage/stateful.html">Stateful Testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usage/websocket.html">WebSocket Testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usage/reports.html">Reports and Metrics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usage/frameworks/index.html">Framework Support</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../usage/frameworks/litestar.html">Litestar</a></li>
<li class="toctree-l3"><a class="reference internal" href="../usage/frameworks/fastapi.html">FastAPI</a></li>
<li class="toctree-l3"><a class="reference internal" href="../usage/frameworks/starlette.html">Starlette</a></li>
<li class="toctree-l3"><a class="reference internal" href="../usage/frameworks/openapi.html">OpenAPI Fallback</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption" role="heading" aria-level="3"><span class="caption-text">Reference</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">API Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="config.html">Configuration</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Route Discovery</a></li>
<li class="toctree-l2"><a class="reference internal" href="generation.html">Strategy Generation</a></li>
<li class="toctree-l2"><a class="reference internal" href="execution.html">Test Execution</a></li>
<li class="toctree-l2"><a class="reference internal" href="validation.html">Response Validation</a></li>
<li class="toctree-l2"><a class="reference internal" href="reporting.html">Reporting</a></li>
<li class="toctree-l2"><a class="reference internal" href="integrations.html">Integrations</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading" aria-level="3"><span class="caption-text">Project</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/JacobCoffee/pytest-routes">GitHub</a></li>
<li class="toctree-l1"><a class="reference external" href="https://pypi.org/project/pytest-routes/">PyPI</a></li>
<li class="toctree-l1"><a class="reference external" href="https://discord.gg/litestar">Discord</a></li>
</ul>

        </div>
      </div>
    </div>
  </aside>
  <div class="lside-overlay js-menu" role="button" aria-label="Close left sidebar" aria-controls="lside" aria-expanded="false"></div>
  <aside id="rside" class="sy-rside pb-3 w-64 shrink-0 order-last">
    <button class="rside-close js-menu xl:hidden" aria-label="Close Table of Contents" type="button" aria-controls="rside" aria-expanded="false">
      <i class="i-lucide close"></i>
    </button>
    <div class="sy-scrollbar sy-rside-inner px-6 xl:top-16 xl:sticky xl:pl-0 pt-6 pb-4"><div class="localtoc"><h3>On this page</h3><ul>
<li><a class="reference internal" href="#overview">Overview</a></li>
<li><a class="reference internal" href="#quick-start">Quick Start</a></li>
<li><a class="reference internal" href="#architecture">Architecture</a></li>
<li><a class="reference internal" href="#api-reference">API Reference</a><ul>
<li><a class="reference internal" href="#core-types">Core Types</a><ul>
<li><a class="reference internal" href="#routeinfo">RouteInfo</a><ul>
<li><a class="reference internal" href="#pytest_routes.discovery.base.RouteInfo"><code class="docutils literal notranslate"><span class="pre">RouteInfo</span></code></a><ul>
<li><a class="reference internal" href="#pytest_routes.discovery.base.RouteInfo.path"><code class="docutils literal notranslate">path</span></code></a></li>
<li><a class="reference internal" href="#pytest_routes.discovery.base.RouteInfo.methods"><code class="docutils literal notranslate">methods</span></code></a></li>
<li><a class="reference internal" href="#pytest_routes.discovery.base.RouteInfo.name"><code class="docutils literal notranslate">name</span></code></a></li>
<li><a class="reference internal" href="#pytest_routes.discovery.base.RouteInfo.handler"><code class="docutils literal notranslate">handler</span></code></a></li>
<li><a class="reference internal" href="#pytest_routes.discovery.base.RouteInfo.path_params"><code class="docutils literal notranslate">path_params</span></code></a></li>
<li><a class="reference internal" href="#pytest_routes.discovery.base.RouteInfo.query_params"><code class="docutils literal notranslate">query_params</span></code></a></li>
<li><a class="reference internal" href="#pytest_routes.discovery.base.RouteInfo.body_type"><code class="docutils literal notranslate">body_type</span></code></a></li>
<li><a class="reference internal" href="#pytest_routes.discovery.base.RouteInfo.tags"><code class="docutils literal notranslate">tags</span></code></a></li>
<li><a class="reference internal" href="#pytest_routes.discovery.base.RouteInfo.deprecated"><code class="docutils literal notranslate">deprecated</span></code></a></li>
<li><a class="reference internal" href="#pytest_routes.discovery.base.RouteInfo.description"><code class="docutils literal notranslate">description</span></code></a></li>
<li><a class="reference internal" href="#pytest_routes.discovery.base.RouteInfo.is_websocket"><code class="docutils literal notranslate">is_websocket</span></code></a></li>
<li><a class="reference internal" href="#pytest_routes.discovery.base.RouteInfo.websocket_metadata"><code class="docutils literal notranslate">websocket_metadata</span></code></a></li>
<li><a class="reference internal" href="#pytest_routes.discovery.base.RouteInfo.is_http"><code class="docutils literal notranslate">is_http</span></code></a></li>
<li><a class="reference internal" href="#pytest_routes.discovery.base.RouteInfo.get_websocket_metadata"><code class="docutils literal notranslate">get_websocket_metadata()</span></code></a></li>
<li><a class="reference internal" href="#pytest_routes.discovery.base.RouteInfo.__init__"><code class="docutils literal notranslate">__init__()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#routeextractor">RouteExtractor</a><ul>
<li><a class="reference internal" href="#pytest_routes.discovery.base.RouteExtractor"><code class="docutils literal notranslate"><span class="pre">RouteExtractor</span></code></a><ul>
<li><a class="reference internal" href="#pytest_routes.discovery.base.RouteExtractor.extract_routes"><code class="docutils literal notranslate">extract_routes()</span></code></a></li>
<li><a class="reference internal" href="#pytest_routes.discovery.base.RouteExtractor.supports"><code class="docutils literal notranslate">supports()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#factory-function">Factory Function</a><ul>
<li><a class="reference internal" href="#pytest_routes.discovery.get_extractor"><code class="docutils literal notranslate"><span class="pre">get_extractor()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#framework-extractors">Framework Extractors</a><ul>
<li><a class="reference internal" href="#module-pytest_routes.discovery.litestar">Litestar Extractor</a><ul>
<li><a class="reference internal" href="#pytest_routes.discovery.litestar.LitestarExtractor"><code class="docutils literal notranslate"><span class="pre">LitestarExtractor</span></code></a><ul>
<li><a class="reference internal" href="#pytest_routes.discovery.litestar.LitestarExtractor.supports"><code class="docutils literal notranslate">supports()</span></code></a></li>
<li><a class="reference internal" href="#pytest_routes.discovery.litestar.LitestarExtractor.extract_routes"><code class="docutils literal notranslate">extract_routes()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#module-pytest_routes.discovery.starlette">Starlette Extractor</a><ul>
<li><a class="reference internal" href="#pytest_routes.discovery.starlette.StarletteExtractor"><code class="docutils literal notranslate"><span class="pre">StarletteExtractor</span></code></a><ul>
<li><a class="reference internal" href="#pytest_routes.discovery.starlette.StarletteExtractor.supports"><code class="docutils literal notranslate">supports()</span></code></a></li>
<li><a class="reference internal" href="#pytest_routes.discovery.starlette.StarletteExtractor.extract_routes"><code class="docutils literal notranslate">extract_routes()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#module-pytest_routes.discovery.openapi">OpenAPI Extractor</a><ul>
<li><a class="reference internal" href="#pytest_routes.discovery.openapi.OpenAPIExtractor"><code class="docutils literal notranslate"><span class="pre">OpenAPIExtractor</span></code></a><ul>
<li><a class="reference internal" href="#pytest_routes.discovery.openapi.OpenAPIExtractor.__init__"><code class="docutils literal notranslate">__init__()</span></code></a></li>
<li><a class="reference internal" href="#pytest_routes.discovery.openapi.OpenAPIExtractor.supports"><code class="docutils literal notranslate">supports()</span></code></a></li>
<li><a class="reference internal" href="#pytest_routes.discovery.openapi.OpenAPIExtractor.extract_routes"><code class="docutils literal notranslate">extract_routes()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#custom-extractors">Custom Extractors</a></li>
<li><a class="reference internal" href="#see-also">See Also</a></li>
</ul>
</div><div id="ethical-ad-placement" data-ea-publisher="readthedocs"></div></div>
  </aside>
  <div class="rside-overlay js-menu" role="button" aria-label="Close Table of Contents" aria-controls="rside" aria-expanded="false"></div>
  <main class="sy-main w-full max-sm:max-w-full print:pt-6">
<div class="sy-breadcrumbs" role="navigation">
  <div class="sy-breadcrumbs-inner flex items-center">
    <div class="md:hidden mr-3">
      <button class="js-menu" aria-label="Menu" type="button" aria-controls="lside" aria-expanded="false">
        <i class="i-lucide menu"></i>
      </button>
    </div>
    <ol class="flex-1" itemscope itemtype="https://schema.org/BreadcrumbList"><li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
        <a itemprop="item" href="../index.html"><span itemprop="name">pytest-routes</span></a>
        <span>/</span>
        <meta itemprop="position" content="1" />
      </li><li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
        <a itemprop="item" href="index.html"><span itemprop="name">API Reference</span></a>
        <span>/</span>
        <meta itemprop="position" content="2" />
      </li><li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
        <strong itemprop="name">Route Discovery</strong>
        <meta itemprop="position" content="3" />
      </li></ol>
    <div class="xl:hidden ml-1">
      <button class="js-menu" aria-label="Show table of contents" type="button" aria-controls="rside"
        aria-expanded="false">
        <i class="i-lucide outdent"></i>
      </button>
    </div>
  </div>
</div><div class="flex flex-col break-words justify-between">
      <div class="min-w-0 max-w-6xl px-6 pb-6 pt-8 xl:px-12">
        <article class="yue" role="main">
          <section id="route-discovery">
<span id="api-discovery"></span><h1>Route Discovery<a class="headerlink" href="#route-discovery" title="Link to this heading">¶</a></h1>
<p>The discovery module extracts route information from ASGI applications.
It provides framework-specific extractors for Litestar, Starlette, FastAPI,
and can also extract routes from OpenAPI schemas.</p>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Link to this heading">¶</a></h2>
<p>Route discovery is the first step in pytest-routes’ testing pipeline:</p>
<ol class="arabic simple">
<li><p><strong>Detection</strong> - Identify the framework (Litestar, FastAPI, Starlette)</p></li>
<li><p><strong>Extraction</strong> - Pull route definitions from the application</p></li>
<li><p><strong>Normalization</strong> - Convert to <code class="xref py py-class docutils literal notranslate"><span class="pre">RouteInfo</span></code> objects with metadata</p></li>
</ol>
<p>The <a class="reference internal" href="#pytest_routes.discovery.get_extractor" title="pytest_routes.discovery.get_extractor"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_extractor()</span></code></a> factory function automatically selects the
appropriate extractor based on your application type.</p>
</section>
<section id="quick-start">
<h2>Quick Start<a class="headerlink" href="#quick-start" title="Link to this heading">¶</a></h2>
<p>The simplest way to extract routes:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="kn">from</span><span class="w"> </span><span class="nn">pytest_routes</span><span class="w"> </span><span class="kn">import</span> <span class="n">get_extractor</span><span class="p">,</span> <span class="n">RouteInfo</span>
</span><span data-line="2">
</span><span data-line="3"><span class="c1"># Automatic framework detection</span>
</span><span data-line="4"><span class="n">extractor</span> <span class="o">=</span> <span class="n">get_extractor</span><span class="p">(</span><span class="n">app</span><span class="p">)</span>
</span><span data-line="5">
</span><span data-line="6"><span class="c1"># Extract all routes</span>
</span><span data-line="7"><span class="n">routes</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">RouteInfo</span><span class="p">]</span> <span class="o">=</span> <span class="n">extractor</span><span class="o">.</span><span class="n">extract_routes</span><span class="p">(</span><span class="n">app</span><span class="p">)</span>
</span><span data-line="8">
</span><span data-line="9"><span class="k">for</span> <span class="n">route</span> <span class="ow">in</span> <span class="n">routes</span><span class="p">:</span>
</span><span data-line="10">    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">route</span><span class="o">.</span><span class="n">methods</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">route</span><span class="o">.</span><span class="n">path</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span data-line="11">    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Path params: </span><span class="si">{</span><span class="n">route</span><span class="o">.</span><span class="n">path_params</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span data-line="12">    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Query params: </span><span class="si">{</span><span class="n">route</span><span class="o">.</span><span class="n">query_params</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span></pre></div>
</div>
</section>
<section id="architecture">
<h2>Architecture<a class="headerlink" href="#architecture" title="Link to this heading">¶</a></h2>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><span data-line="1">+------------------+
</span><span data-line="2">|  get_extractor() | -- Factory function
</span><span data-line="3">+--------+---------+
</span><span data-line="4">         |
</span><span data-line="5">         v
</span><span data-line="6">+------------------+     +-------------------+
</span><span data-line="7">| RouteExtractor   |&lt;----| LitestarExtractor |
</span><span data-line="8">|   (Protocol)     |     +-------------------+
</span><span data-line="9">+------------------+     +-------------------+
</span><span data-line="10">         ^         &lt;-----| StarletteExtractor|
</span><span data-line="11">         |               +-------------------+
</span><span data-line="12">         |               +-------------------+
</span><span data-line="13">         +----------&lt;----| OpenAPIExtractor  |
</span><span data-line="14">                         +-------------------+
</span></pre></div>
</div>
</section>
<section id="api-reference">
<h2>API Reference<a class="headerlink" href="#api-reference" title="Link to this heading">¶</a></h2>
<section id="core-types">
<h3>Core Types<a class="headerlink" href="#core-types" title="Link to this heading">¶</a></h3>
<section id="routeinfo">
<h4>RouteInfo<a class="headerlink" href="#routeinfo" title="Link to this heading">¶</a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="pytest_routes.discovery.base.RouteInfo">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pytest_routes.discovery.base.</span></span><span class="sig-name descname"><span class="pre">RouteInfo</span></span><a class="reference internal" href="../_modules/pytest_routes/discovery/base.html#RouteInfo"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pytest_routes.discovery.base.RouteInfo" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Normalized route information.</p>
<p>This dataclass represents a discovered route from an ASGI application,
containing all metadata needed for property-based testing. It supports
both HTTP routes and WebSocket endpoints through the is_websocket flag
and optional websocket_metadata field.</p>
<dl class="field-list simple">
<dt class="field-odd">Variables<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> – The route path pattern (e.g., “/users/{user_id}”).</p></li>
<li><p><strong>methods</strong> – HTTP methods for this route (e.g., [“GET”, “POST”]).
For WebSocket routes, this is typically [“WEBSOCKET”] or empty.</p></li>
<li><p><strong>name</strong> – Optional route name from the framework.</p></li>
<li><p><strong>handler</strong> – Reference to the handler function/coroutine.</p></li>
<li><p><strong>path_params</strong> – Mapping of path parameter names to their types.</p></li>
<li><p><strong>query_params</strong> – Mapping of query parameter names to their types.</p></li>
<li><p><strong>body_type</strong> – Type annotation for the request body, if applicable.</p></li>
<li><p><strong>tags</strong> – Framework-assigned tags for grouping/categorization.</p></li>
<li><p><strong>deprecated</strong> – Whether the route is marked as deprecated.</p></li>
<li><p><strong>description</strong> – Documentation string for the route.</p></li>
<li><p><strong>is_websocket</strong> – True if this is a WebSocket endpoint.</p></li>
<li><p><strong>websocket_metadata</strong> – Additional WebSocket-specific configuration.</p></li>
</ul>
</dd>
<dt class="field-even">Parameters<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>path</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></span>)</p></li>
<li><p><strong>methods</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>]</span>)</p></li>
<li><p><strong>name</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> | <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a></span>)</p></li>
<li><p><strong>handler</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Callable" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Callable</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/constants.html#Ellipsis" title="(in Python v3.14)"><code class="xref py py-data docutils literal notranslate"><span class="pre">...</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.14)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code></a>] | <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a></span>)</p></li>
<li><p><strong>path_params</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#type" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">type</span></code></a>]</span>)</p></li>
<li><p><strong>query_params</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#type" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">type</span></code></a>]</span>)</p></li>
<li><p><strong>body_type</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/functions.html#type" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">type</span></code></a> | <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a></span>)</p></li>
<li><p><strong>tags</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>]</span>)</p></li>
<li><p><strong>deprecated</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a></span>)</p></li>
<li><p><strong>description</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> | <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a></span>)</p></li>
<li><p><strong>is_websocket</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a></span>)</p></li>
<li><p><strong>websocket_metadata</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">WebSocketMetadata</span></code> | <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a></span>)</p></li>
</ul>
</dd>
</dl>
<p>The <a class="reference internal" href="#pytest_routes.discovery.base.RouteInfo" title="pytest_routes.discovery.base.RouteInfo"><code class="xref py py-class docutils literal notranslate"><span class="pre">RouteInfo</span></code></a> dataclass is the normalized representation of a route,
containing all information needed for test generation.</p>
<p class="rubric">Attributes</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">path</span></code></dt><dd><p>The URL path pattern (e.g., <code class="docutils literal notranslate"><span class="pre">/users/{user_id}</span></code>)</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">methods</span></code></dt><dd><p>List of HTTP methods (e.g., <code class="docutils literal notranslate"><span class="pre">[&quot;GET&quot;,</span> <span class="pre">&quot;POST&quot;]</span></code>)</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">name</span></code></dt><dd><p>Optional route name from the framework</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">handler</span></code></dt><dd><p>Reference to the route handler function</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">path_params</span></code></dt><dd><p>Dict mapping parameter names to their types</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">query_params</span></code></dt><dd><p>Dict mapping query parameter names to their types</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">body_type</span></code></dt><dd><p>The expected request body type (for POST/PUT/PATCH)</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">tags</span></code></dt><dd><p>OpenAPI tags for categorization</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">deprecated</span></code></dt><dd><p>Whether the route is marked deprecated</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">description</span></code></dt><dd><p>Human-readable route description</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="n">route</span> <span class="o">=</span> <span class="n">RouteInfo</span><span class="p">(</span>
</span><span data-line="2">    <span class="n">path</span><span class="o">=</span><span class="s2">&quot;/users/</span><span class="si">{user_id}</span><span class="s2">&quot;</span><span class="p">,</span>
</span><span data-line="3">    <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;GET&quot;</span><span class="p">],</span>
</span><span data-line="4">    <span class="n">name</span><span class="o">=</span><span class="s2">&quot;get_user&quot;</span><span class="p">,</span>
</span><span data-line="5">    <span class="n">path_params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;user_id&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">},</span>
</span><span data-line="6">    <span class="n">query_params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;include_posts&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">},</span>
</span><span data-line="7"><span class="p">)</span>
</span></pre></div>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_routes.discovery.base.RouteInfo.path">
<span class="sig-name descname"><span class="pre">path</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></em><a class="headerlink" href="#pytest_routes.discovery.base.RouteInfo.path" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_routes.discovery.base.RouteInfo.methods">
<span class="sig-name descname"><span class="pre">methods</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a><span class="pre">[</span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a><span class="pre">]</span></em><a class="headerlink" href="#pytest_routes.discovery.base.RouteInfo.methods" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_routes.discovery.base.RouteInfo.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> <span class="pre">|</span> <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#pytest_routes.discovery.base.RouteInfo.name" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_routes.discovery.base.RouteInfo.handler">
<span class="sig-name descname"><span class="pre">handler</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Callable" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Callable</span></code></a><span class="pre">[</span><a class="reference external" href="https://docs.python.org/3/library/constants.html#Ellipsis" title="(in Python v3.14)"><code class="xref py py-data docutils literal notranslate"><span class="pre">...</span></code></a><span class="pre">,</span> <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.14)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code></a><span class="pre">]</span> <span class="pre">|</span> <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#pytest_routes.discovery.base.RouteInfo.handler" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_routes.discovery.base.RouteInfo.path_params">
<span class="sig-name descname"><span class="pre">path_params</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a><span class="pre">[</span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a><span class="pre">,</span> <a class="reference external" href="https://docs.python.org/3/library/functions.html#type" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">type</span></code></a><span class="pre">]</span></em><a class="headerlink" href="#pytest_routes.discovery.base.RouteInfo.path_params" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_routes.discovery.base.RouteInfo.query_params">
<span class="sig-name descname"><span class="pre">query_params</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a><span class="pre">[</span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a><span class="pre">,</span> <a class="reference external" href="https://docs.python.org/3/library/functions.html#type" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">type</span></code></a><span class="pre">]</span></em><a class="headerlink" href="#pytest_routes.discovery.base.RouteInfo.query_params" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_routes.discovery.base.RouteInfo.body_type">
<span class="sig-name descname"><span class="pre">body_type</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#type" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">type</span></code></a> <span class="pre">|</span> <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#pytest_routes.discovery.base.RouteInfo.body_type" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_routes.discovery.base.RouteInfo.tags">
<span class="sig-name descname"><span class="pre">tags</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a><span class="pre">[</span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a><span class="pre">]</span></em><a class="headerlink" href="#pytest_routes.discovery.base.RouteInfo.tags" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_routes.discovery.base.RouteInfo.deprecated">
<span class="sig-name descname"><span class="pre">deprecated</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#pytest_routes.discovery.base.RouteInfo.deprecated" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_routes.discovery.base.RouteInfo.description">
<span class="sig-name descname"><span class="pre">description</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> <span class="pre">|</span> <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#pytest_routes.discovery.base.RouteInfo.description" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_routes.discovery.base.RouteInfo.is_websocket">
<span class="sig-name descname"><span class="pre">is_websocket</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#pytest_routes.discovery.base.RouteInfo.is_websocket" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_routes.discovery.base.RouteInfo.websocket_metadata">
<span class="sig-name descname"><span class="pre">websocket_metadata</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><code class="xref py py-class docutils literal notranslate"><span class="pre">WebSocketMetadata</span></code> <span class="pre">|</span> <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#pytest_routes.discovery.base.RouteInfo.websocket_metadata" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pytest_routes.discovery.base.RouteInfo.is_http">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">is_http</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></em><a class="headerlink" href="#pytest_routes.discovery.base.RouteInfo.is_http" title="Link to this definition">¶</a></dt>
<dd><p>Check if this is an HTTP route (not WebSocket).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pytest_routes.discovery.base.RouteInfo.get_websocket_metadata">
<span class="sig-name descname"><span class="pre">get_websocket_metadata</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytest_routes/discovery/base.html#RouteInfo.get_websocket_metadata"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pytest_routes.discovery.base.RouteInfo.get_websocket_metadata" title="Link to this definition">¶</a></dt>
<dd><p>Get WebSocket metadata, creating default if not set.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">WebSocketMetadata</span></code></span></p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>WebSocketMetadata instance with route-specific or default values.</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.14)"><strong>ValueError</strong></a> – If called on a non-WebSocket route.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pytest_routes.discovery.base.RouteInfo.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">methods</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">handler=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_params=&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">query_params=&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">body_type=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tags=&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">deprecated=False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">description=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_websocket=False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">websocket_metadata=None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pytest_routes.discovery.base.RouteInfo.__init__" title="Link to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></span>)</p></li>
<li><p><strong>methods</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>]</span>)</p></li>
<li><p><strong>name</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> | <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a></span>)</p></li>
<li><p><strong>handler</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Callable" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Callable</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/constants.html#Ellipsis" title="(in Python v3.14)"><code class="xref py py-data docutils literal notranslate"><span class="pre">...</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.14)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code></a>] | <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a></span>)</p></li>
<li><p><strong>path_params</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#type" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">type</span></code></a>]</span>)</p></li>
<li><p><strong>query_params</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#type" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">type</span></code></a>]</span>)</p></li>
<li><p><strong>body_type</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/functions.html#type" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">type</span></code></a> | <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a></span>)</p></li>
<li><p><strong>tags</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>]</span>)</p></li>
<li><p><strong>deprecated</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a></span>)</p></li>
<li><p><strong>description</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> | <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a></span>)</p></li>
<li><p><strong>is_websocket</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a></span>)</p></li>
<li><p><strong>websocket_metadata</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">WebSocketMetadata</span></code> | <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a></span>)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="routeextractor">
<h4>RouteExtractor<a class="headerlink" href="#routeextractor" title="Link to this heading">¶</a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="pytest_routes.discovery.base.RouteExtractor">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pytest_routes.discovery.base.</span></span><span class="sig-name descname"><span class="pre">RouteExtractor</span></span><a class="reference internal" href="../_modules/pytest_routes/discovery/base.html#RouteExtractor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pytest_routes.discovery.base.RouteExtractor" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/abc.html#abc.ABC" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ABC</span></code></a></p>
<p>Abstract base for route extraction from ASGI apps.</p>
<p>Abstract base class that all extractors must implement.</p>
<dl class="py method">
<dt class="sig sig-object py" id="pytest_routes.discovery.base.RouteExtractor.extract_routes">
<em class="property"><span class="k"><span class="pre">abstractmethod</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">extract_routes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">app</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytest_routes/discovery/base.html#RouteExtractor.extract_routes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pytest_routes.discovery.base.RouteExtractor.extract_routes" title="Link to this definition">¶</a></dt>
<dd><p>Extract all routes from the application.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>app</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.14)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code></a></span>) – The ASGI application.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a>[<a class="reference internal" href="#pytest_routes.discovery.base.RouteInfo" title="pytest_routes.discovery.base.RouteInfo"><code class="xref py py-class docutils literal notranslate"><span class="pre">RouteInfo</span></code></a>]</span></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>List of RouteInfo objects representing discovered routes.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pytest_routes.discovery.base.RouteExtractor.supports">
<em class="property"><span class="k"><span class="pre">abstractmethod</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">supports</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">app</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytest_routes/discovery/base.html#RouteExtractor.supports"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pytest_routes.discovery.base.RouteExtractor.supports" title="Link to this definition">¶</a></dt>
<dd><p>Check if this extractor supports the given app type.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>app</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.14)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code></a></span>) – The ASGI application to check.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a></span></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>True if this extractor can handle the app.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
</section>
<section id="factory-function">
<h3>Factory Function<a class="headerlink" href="#factory-function" title="Link to this heading">¶</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="pytest_routes.discovery.get_extractor">
<span class="sig-prename descclassname"><span class="pre">pytest_routes.discovery.</span></span><span class="sig-name descname"><span class="pre">get_extractor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">app</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytest_routes/discovery.html#get_extractor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pytest_routes.discovery.get_extractor" title="Link to this definition">¶</a></dt>
<dd><p>Get the appropriate route extractor for an ASGI app.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>app</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.14)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code></a></span>) – The ASGI application.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><a class="reference internal" href="#pytest_routes.discovery.base.RouteExtractor" title="pytest_routes.discovery.base.RouteExtractor"><code class="xref py py-class docutils literal notranslate"><span class="pre">RouteExtractor</span></code></a></span></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A RouteExtractor instance that can handle this app.</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.14)"><strong>ValueError</strong></a> – If no suitable extractor is found.</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="kn">from</span><span class="w"> </span><span class="nn">litestar</span><span class="w"> </span><span class="kn">import</span> <span class="n">Litestar</span>
</span><span data-line="2"><span class="kn">from</span><span class="w"> </span><span class="nn">pytest_routes</span><span class="w"> </span><span class="kn">import</span> <span class="n">get_extractor</span>
</span><span data-line="3">
</span><span data-line="4"><span class="n">app</span> <span class="o">=</span> <span class="n">Litestar</span><span class="p">(</span><span class="n">route_handlers</span><span class="o">=</span><span class="p">[</span><span class="o">...</span><span class="p">])</span>
</span><span data-line="5"><span class="n">extractor</span> <span class="o">=</span> <span class="n">get_extractor</span><span class="p">(</span><span class="n">app</span><span class="p">)</span>  <span class="c1"># Returns LitestarExtractor</span>
</span><span data-line="6">
</span><span data-line="7"><span class="n">routes</span> <span class="o">=</span> <span class="n">extractor</span><span class="o">.</span><span class="n">extract_routes</span><span class="p">(</span><span class="n">app</span><span class="p">)</span>
</span></pre></div>
</div>
</dd></dl>

</section>
<section id="framework-extractors">
<h3>Framework Extractors<a class="headerlink" href="#framework-extractors" title="Link to this heading">¶</a></h3>
<section id="module-pytest_routes.discovery.litestar">
<span id="litestar-extractor"></span><h4>Litestar Extractor<a class="headerlink" href="#module-pytest_routes.discovery.litestar" title="Link to this heading">¶</a></h4>
<p>Litestar route extraction.</p>
<dl class="py class">
<dt class="sig sig-object py" id="pytest_routes.discovery.litestar.LitestarExtractor">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pytest_routes.discovery.litestar.</span></span><span class="sig-name descname"><span class="pre">LitestarExtractor</span></span><a class="reference internal" href="../_modules/pytest_routes/discovery/litestar.html#LitestarExtractor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pytest_routes.discovery.litestar.LitestarExtractor" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pytest_routes.discovery.base.RouteExtractor" title="pytest_routes.discovery.base.RouteExtractor"><code class="xref py py-class docutils literal notranslate"><span class="pre">RouteExtractor</span></code></a></p>
<p>Extract routes from Litestar applications.</p>
<p>This extractor provides first-class support for Litestar framework route discovery.
It extracts comprehensive route metadata including path parameters, query parameters,
request body types, and route metadata from Litestar applications.</p>
<dl class="simple">
<dt>The extractor handles both the old and new Litestar API versions, supporting:</dt><dd><ul class="simple">
<li><p>Path parameter extraction with type annotations</p></li>
<li><p>Query parameter detection from handler signatures</p></li>
<li><p>Request body type extraction from DTOs and type hints</p></li>
<li><p>Route metadata (tags, deprecation status, descriptions)</p></li>
</ul>
</dd>
</dl>
<div class="admonition-example admonition">
<p class="admonition-title">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">litestar</span><span class="w"> </span><span class="kn">import</span> <span class="n">Litestar</span><span class="p">,</span> <span class="n">get</span>
</span><span data-line="2"><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">pytest_routes.discovery.litestar</span><span class="w"> </span><span class="kn">import</span> <span class="n">LitestarExtractor</span>
</span><span data-line="3"><span class="gp">&gt;&gt;&gt;</span>
</span><span data-line="4"><span class="gp">&gt;&gt;&gt; </span><span class="nd">@get</span><span class="p">(</span><span class="s2">&quot;/users/{user_id:int}&quot;</span><span class="p">)</span>
</span><span data-line="5"><span class="gp">&gt;&gt;&gt; </span><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_user</span><span class="p">(</span><span class="n">user_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">include_posts</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
</span><span data-line="6"><span class="gp">... </span>    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="n">user_id</span><span class="p">,</span> <span class="s2">&quot;include_posts&quot;</span><span class="p">:</span> <span class="n">include_posts</span><span class="p">}</span>
</span><span data-line="7"><span class="gp">&gt;&gt;&gt;</span>
</span><span data-line="8"><span class="gp">&gt;&gt;&gt; </span><span class="n">app</span> <span class="o">=</span> <span class="n">Litestar</span><span class="p">(</span><span class="n">route_handlers</span><span class="o">=</span><span class="p">[</span><span class="n">get_user</span><span class="p">])</span>
</span><span data-line="9"><span class="gp">&gt;&gt;&gt; </span><span class="n">extractor</span> <span class="o">=</span> <span class="n">LitestarExtractor</span><span class="p">()</span>
</span><span data-line="10"><span class="gp">&gt;&gt;&gt; </span><span class="n">routes</span> <span class="o">=</span> <span class="n">extractor</span><span class="o">.</span><span class="n">extract_routes</span><span class="p">(</span><span class="n">app</span><span class="p">)</span>
</span><span data-line="11"><span class="gp">&gt;&gt;&gt; </span><span class="n">route</span> <span class="o">=</span> <span class="n">routes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span data-line="12"><span class="gp">&gt;&gt;&gt; </span><span class="n">route</span><span class="o">.</span><span class="n">path</span>
</span><span data-line="13"><span class="go">&#39;/users/{user_id:int}&#39;</span>
</span><span data-line="14"><span class="gp">&gt;&gt;&gt; </span><span class="n">route</span><span class="o">.</span><span class="n">path_params</span>
</span><span data-line="15"><span class="go">{&#39;user_id&#39;: &lt;class &#39;int&#39;&gt;}</span>
</span><span data-line="16"><span class="gp">&gt;&gt;&gt; </span><span class="n">route</span><span class="o">.</span><span class="n">query_params</span>
</span><span data-line="17"><span class="go">{&#39;include_posts&#39;: &lt;class &#39;bool&#39;&gt;}</span>
</span></pre></div>
</div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The extractor automatically skips HEAD methods as they are typically
auto-generated by the framework and don’t need explicit testing.</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="pytest_routes.discovery.litestar.LitestarExtractor.supports">
<span class="sig-name descname"><span class="pre">supports</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">app</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytest_routes/discovery/litestar.html#LitestarExtractor.supports"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pytest_routes.discovery.litestar.LitestarExtractor.supports" title="Link to this definition">¶</a></dt>
<dd><p>Check if the application is a Litestar instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>app</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.14)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code></a></span>) – The ASGI application to check.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a></span></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>True if the app is a Litestar instance, False otherwise.</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Returns False if Litestar is not installed, allowing graceful
degradation when the framework is not available.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pytest_routes.discovery.litestar.LitestarExtractor.extract_routes">
<span class="sig-name descname"><span class="pre">extract_routes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">app</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytest_routes/discovery/litestar.html#LitestarExtractor.extract_routes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pytest_routes.discovery.litestar.LitestarExtractor.extract_routes" title="Link to this definition">¶</a></dt>
<dd><p>Extract all HTTP and WebSocket routes from a Litestar application.</p>
<p>This method traverses the Litestar route registry and extracts comprehensive
metadata for each route including path parameters, query parameters, request
body types, and route metadata. It handles both HTTP and WebSocket routes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>app</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.14)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code></a></span>) – A Litestar application instance.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>path (route path pattern), methods (HTTP methods), name (handler name),
handler (function reference), path_params (parameter name to type mapping),
query_params (query parameter mapping), body_type (request body type),
tags (route tags), deprecated (deprecation flag), description (route docs),
is_websocket (True for WebSocket routes), websocket_metadata (WebSocket config).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>A list of RouteInfo objects containing complete route metadata</p>
</dd>
</dl>
<div class="admonition-example admonition">
<p class="admonition-title">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">litestar</span><span class="w"> </span><span class="kn">import</span> <span class="n">Litestar</span><span class="p">,</span> <span class="n">get</span><span class="p">,</span> <span class="n">post</span><span class="p">,</span> <span class="n">websocket</span>
</span><span data-line="2"><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">litestar.dto</span><span class="w"> </span><span class="kn">import</span> <span class="n">DTOData</span>
</span><span data-line="3"><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">dataclasses</span><span class="w"> </span><span class="kn">import</span> <span class="n">dataclass</span>
</span><span data-line="4"><span class="gp">&gt;&gt;&gt;</span>
</span><span data-line="5"><span class="gp">&gt;&gt;&gt; </span><span class="nd">@dataclass</span>
</span><span data-line="6"><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span><span class="w"> </span><span class="nc">CreateUser</span><span class="p">:</span>
</span><span data-line="7"><span class="gp">... </span>    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>
</span><span data-line="8"><span class="gp">... </span>    <span class="n">email</span><span class="p">:</span> <span class="nb">str</span>
</span><span data-line="9"><span class="gp">&gt;&gt;&gt;</span>
</span><span data-line="10"><span class="gp">&gt;&gt;&gt; </span><span class="nd">@get</span><span class="p">(</span><span class="s2">&quot;/users/{user_id:int}&quot;</span><span class="p">)</span>
</span><span data-line="11"><span class="gp">&gt;&gt;&gt; </span><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_user</span><span class="p">(</span><span class="n">user_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
</span><span data-line="12"><span class="gp">... </span>    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="n">user_id</span><span class="p">}</span>
</span><span data-line="13"><span class="gp">&gt;&gt;&gt;</span>
</span><span data-line="14"><span class="gp">&gt;&gt;&gt; </span><span class="nd">@post</span><span class="p">(</span><span class="s2">&quot;/users&quot;</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;users&quot;</span><span class="p">])</span>
</span><span data-line="15"><span class="gp">&gt;&gt;&gt; </span><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">create_user</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="n">CreateUser</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
</span><span data-line="16"><span class="gp">... </span>    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">data</span><span class="o">.</span><span class="n">name</span><span class="p">}</span>
</span><span data-line="17"><span class="gp">&gt;&gt;&gt;</span>
</span><span data-line="18"><span class="gp">&gt;&gt;&gt; </span><span class="nd">@websocket</span><span class="p">(</span><span class="s2">&quot;/ws/chat&quot;</span><span class="p">)</span>
</span><span data-line="19"><span class="gp">&gt;&gt;&gt; </span><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">chat_handler</span><span class="p">(</span><span class="n">socket</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span data-line="20"><span class="gp">... </span>    <span class="k">await</span> <span class="n">socket</span><span class="o">.</span><span class="n">accept</span><span class="p">()</span>
</span><span data-line="21"><span class="gp">... </span>    <span class="k">await</span> <span class="n">socket</span><span class="o">.</span><span class="n">send_json</span><span class="p">({</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;welcome&quot;</span><span class="p">})</span>
</span><span data-line="22"><span class="gp">&gt;&gt;&gt;</span>
</span><span data-line="23"><span class="gp">&gt;&gt;&gt; </span><span class="n">app</span> <span class="o">=</span> <span class="n">Litestar</span><span class="p">(</span><span class="n">route_handlers</span><span class="o">=</span><span class="p">[</span><span class="n">get_user</span><span class="p">,</span> <span class="n">create_user</span><span class="p">,</span> <span class="n">chat_handler</span><span class="p">])</span>
</span><span data-line="24"><span class="gp">&gt;&gt;&gt; </span><span class="n">extractor</span> <span class="o">=</span> <span class="n">LitestarExtractor</span><span class="p">()</span>
</span><span data-line="25"><span class="gp">&gt;&gt;&gt; </span><span class="n">routes</span> <span class="o">=</span> <span class="n">extractor</span><span class="o">.</span><span class="n">extract_routes</span><span class="p">(</span><span class="n">app</span><span class="p">)</span>
</span><span data-line="26"><span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">routes</span><span class="p">)</span>
</span><span data-line="27"><span class="go">3</span>
</span><span data-line="28"><span class="gp">&gt;&gt;&gt; </span><span class="n">routes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">path_params</span>
</span><span data-line="29"><span class="go">{&#39;user_id&#39;: &lt;class &#39;int&#39;&gt;}</span>
</span><span data-line="30"><span class="gp">&gt;&gt;&gt; </span><span class="n">routes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">tags</span>
</span><span data-line="31"><span class="go">[&#39;users&#39;]</span>
</span><span data-line="32"><span class="gp">&gt;&gt;&gt; </span><span class="n">routes</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">is_websocket</span>
</span><span data-line="33"><span class="go">True</span>
</span></pre></div>
</div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>HEAD methods are automatically skipped for HTTP routes</p></li>
<li><p>Handles both old API (handler directly) and new API (handler tuple)</p></li>
<li><p>Type hints are extracted from handler functions when available</p></li>
<li><p>Dependencies and framework injection parameters are filtered out</p></li>
<li><p>WebSocket routes have auto_accept=True in their metadata</p></li>
</ul>
</div>
</dd></dl>

</dd></dl>

<p>The Litestar extractor provides first-class support for Litestar applications,
extracting full type information from route handlers including:</p>
<ul class="simple">
<li><p>Path parameters with type annotations</p></li>
<li><p>Query parameters with defaults</p></li>
<li><p>Request body models (Pydantic, dataclasses, msgspec)</p></li>
<li><p>OpenAPI metadata (tags, deprecation, description)</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="kn">from</span><span class="w"> </span><span class="nn">litestar</span><span class="w"> </span><span class="kn">import</span> <span class="n">Litestar</span><span class="p">,</span> <span class="n">get</span>
</span><span data-line="2"><span class="kn">from</span><span class="w"> </span><span class="nn">pytest_routes.discovery.litestar</span><span class="w"> </span><span class="kn">import</span> <span class="n">LitestarExtractor</span>
</span><span data-line="3">
</span><span data-line="4"><span class="nd">@get</span><span class="p">(</span><span class="s2">&quot;/users/{user_id:int}&quot;</span><span class="p">)</span>
</span><span data-line="5"><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_user</span><span class="p">(</span><span class="n">user_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">User</span><span class="p">:</span>
</span><span data-line="6">    <span class="o">...</span>
</span><span data-line="7">
</span><span data-line="8"><span class="n">app</span> <span class="o">=</span> <span class="n">Litestar</span><span class="p">([</span><span class="n">get_user</span><span class="p">])</span>
</span><span data-line="9"><span class="n">extractor</span> <span class="o">=</span> <span class="n">LitestarExtractor</span><span class="p">()</span>
</span><span data-line="10">
</span><span data-line="11"><span class="k">if</span> <span class="n">extractor</span><span class="o">.</span><span class="n">supports</span><span class="p">(</span><span class="n">app</span><span class="p">):</span>
</span><span data-line="12">    <span class="n">routes</span> <span class="o">=</span> <span class="n">extractor</span><span class="o">.</span><span class="n">extract_routes</span><span class="p">(</span><span class="n">app</span><span class="p">)</span>
</span></pre></div>
</div>
</section>
<section id="module-pytest_routes.discovery.starlette">
<span id="starlette-extractor"></span><h4>Starlette Extractor<a class="headerlink" href="#module-pytest_routes.discovery.starlette" title="Link to this heading">¶</a></h4>
<p>Starlette/FastAPI route extraction.</p>
<dl class="py class">
<dt class="sig sig-object py" id="pytest_routes.discovery.starlette.StarletteExtractor">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pytest_routes.discovery.starlette.</span></span><span class="sig-name descname"><span class="pre">StarletteExtractor</span></span><a class="reference internal" href="../_modules/pytest_routes/discovery/starlette.html#StarletteExtractor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pytest_routes.discovery.starlette.StarletteExtractor" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pytest_routes.discovery.base.RouteExtractor" title="pytest_routes.discovery.base.RouteExtractor"><code class="xref py py-class docutils literal notranslate"><span class="pre">RouteExtractor</span></code></a></p>
<p>Extract routes from Starlette and FastAPI applications.</p>
<p>This extractor provides comprehensive route discovery for Starlette-based
frameworks including vanilla Starlette and FastAPI applications. It handles
route mounts, path parameter parsing, and query parameter extraction.</p>
<dl class="simple">
<dt>The extractor supports:</dt><dd><ul class="simple">
<li><p>Recursive route collection through Mount instances</p></li>
<li><p>Path parameter extraction with type conversion (int, float, path)</p></li>
<li><p>Query parameter detection from endpoint signatures</p></li>
<li><p>FastAPI-specific features (BaseModel bodies, dependency injection)</p></li>
<li><p>Starlette request/response parameter filtering</p></li>
</ul>
</dd>
</dl>
<div class="admonition-example admonition">
<p class="admonition-title">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">starlette.applications</span><span class="w"> </span><span class="kn">import</span> <span class="n">Starlette</span>
</span><span data-line="2"><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">starlette.routing</span><span class="w"> </span><span class="kn">import</span> <span class="n">Route</span>
</span><span data-line="3"><span class="gp">&gt;&gt;&gt;</span>
</span><span data-line="4"><span class="gp">&gt;&gt;&gt; </span><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_user</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
</span><span data-line="5"><span class="gp">... </span>    <span class="n">user_id</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">path_params</span><span class="p">[</span><span class="s2">&quot;user_id&quot;</span><span class="p">]</span>
</span><span data-line="6"><span class="gp">... </span>    <span class="k">return</span> <span class="n">JSONResponse</span><span class="p">({</span><span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="n">user_id</span><span class="p">})</span>
</span><span data-line="7"><span class="gp">&gt;&gt;&gt;</span>
</span><span data-line="8"><span class="gp">&gt;&gt;&gt; </span><span class="n">app</span> <span class="o">=</span> <span class="n">Starlette</span><span class="p">(</span><span class="n">routes</span><span class="o">=</span><span class="p">[</span><span class="n">Route</span><span class="p">(</span><span class="s2">&quot;/users/{user_id:int}&quot;</span><span class="p">,</span> <span class="n">get_user</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;GET&quot;</span><span class="p">])])</span>
</span><span data-line="9"><span class="gp">&gt;&gt;&gt; </span><span class="n">extractor</span> <span class="o">=</span> <span class="n">StarletteExtractor</span><span class="p">()</span>
</span><span data-line="10"><span class="gp">&gt;&gt;&gt; </span><span class="n">routes</span> <span class="o">=</span> <span class="n">extractor</span><span class="o">.</span><span class="n">extract_routes</span><span class="p">(</span><span class="n">app</span><span class="p">)</span>
</span><span data-line="11"><span class="gp">&gt;&gt;&gt; </span><span class="n">routes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">path_params</span>
</span><span data-line="12"><span class="go">{&#39;user_id&#39;: &lt;class &#39;int&#39;&gt;}</span>
</span></pre></div>
</div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>HEAD methods are automatically filtered out</p></li>
<li><p>Mount instances are recursively traversed with path prefix accumulation</p></li>
<li><p>FastAPI BaseModel parameters are detected and skipped from query params</p></li>
</ul>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="pytest_routes.discovery.starlette.StarletteExtractor.supports">
<span class="sig-name descname"><span class="pre">supports</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">app</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytest_routes/discovery/starlette.html#StarletteExtractor.supports"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pytest_routes.discovery.starlette.StarletteExtractor.supports" title="Link to this definition">¶</a></dt>
<dd><p>Check if the application is a Starlette or FastAPI instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>app</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.14)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code></a></span>) – The ASGI application to check.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a></span></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>True if the app is a Starlette or FastAPI instance, False otherwise.</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Checks for both Starlette and FastAPI classes independently,
returning False if neither framework is installed. This allows
graceful degradation when frameworks are not available.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pytest_routes.discovery.starlette.StarletteExtractor.extract_routes">
<span class="sig-name descname"><span class="pre">extract_routes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">app</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytest_routes/discovery/starlette.html#StarletteExtractor.extract_routes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pytest_routes.discovery.starlette.StarletteExtractor.extract_routes" title="Link to this definition">¶</a></dt>
<dd><p>Extract all HTTP and WebSocket routes from a Starlette or FastAPI application.</p>
<p>This method traverses the application’s route registry, recursively handling
Mount instances to collect all routes with their full path prefixes. It extracts
path parameters, query parameters, and route metadata for both HTTP and WebSocket routes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>app</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.14)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code></a></span>) – A Starlette or FastAPI application instance.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>path (full route path including mount prefixes), methods (HTTP methods or “WEBSOCKET”),
name (route name), handler (endpoint function), path_params (parameter
name to type mapping parsed from path), query_params (query parameter
mapping), body_type (always None for Starlette - use OpenAPI extractor),
is_websocket (True for WebSocket routes), websocket_metadata (WebSocket config).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>A list of RouteInfo objects containing route metadata</p>
</dd>
</dl>
<div class="admonition-example admonition">
<p class="admonition-title">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">fastapi</span><span class="w"> </span><span class="kn">import</span> <span class="n">FastAPI</span><span class="p">,</span> <span class="n">Query</span><span class="p">,</span> <span class="n">WebSocket</span>
</span><span data-line="2"><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">pydantic</span><span class="w"> </span><span class="kn">import</span> <span class="n">BaseModel</span>
</span><span data-line="3"><span class="gp">&gt;&gt;&gt;</span>
</span><span data-line="4"><span class="gp">&gt;&gt;&gt; </span><span class="n">app</span> <span class="o">=</span> <span class="n">FastAPI</span><span class="p">()</span>
</span><span data-line="5"><span class="gp">&gt;&gt;&gt;</span>
</span><span data-line="6"><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span><span class="w"> </span><span class="nc">User</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
</span><span data-line="7"><span class="gp">... </span>    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>
</span><span data-line="8"><span class="gp">... </span>    <span class="n">email</span><span class="p">:</span> <span class="nb">str</span>
</span><span data-line="9"><span class="gp">&gt;&gt;&gt;</span>
</span><span data-line="10"><span class="gp">&gt;&gt;&gt; </span><span class="nd">@app</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/users/</span><span class="si">{user_id}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span data-line="11"><span class="gp">&gt;&gt;&gt; </span><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_user</span><span class="p">(</span><span class="n">user_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">include_posts</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">Query</span><span class="p">(</span><span class="kc">False</span><span class="p">)):</span>
</span><span data-line="12"><span class="gp">... </span>    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="n">user_id</span><span class="p">,</span> <span class="s2">&quot;include_posts&quot;</span><span class="p">:</span> <span class="n">include_posts</span><span class="p">}</span>
</span><span data-line="13"><span class="gp">&gt;&gt;&gt;</span>
</span><span data-line="14"><span class="gp">&gt;&gt;&gt; </span><span class="nd">@app</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s2">&quot;/users&quot;</span><span class="p">)</span>
</span><span data-line="15"><span class="gp">&gt;&gt;&gt; </span><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">create_user</span><span class="p">(</span><span class="n">user</span><span class="p">:</span> <span class="n">User</span><span class="p">):</span>
</span><span data-line="16"><span class="gp">... </span>    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">user</span><span class="o">.</span><span class="n">name</span><span class="p">}</span>
</span><span data-line="17"><span class="gp">&gt;&gt;&gt;</span>
</span><span data-line="18"><span class="gp">&gt;&gt;&gt; </span><span class="nd">@app</span><span class="o">.</span><span class="n">websocket</span><span class="p">(</span><span class="s2">&quot;/ws/chat&quot;</span><span class="p">)</span>
</span><span data-line="19"><span class="gp">&gt;&gt;&gt; </span><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">websocket_endpoint</span><span class="p">(</span><span class="n">websocket</span><span class="p">:</span> <span class="n">WebSocket</span><span class="p">):</span>
</span><span data-line="20"><span class="gp">... </span>    <span class="k">await</span> <span class="n">websocket</span><span class="o">.</span><span class="n">accept</span><span class="p">()</span>
</span><span data-line="21"><span class="gp">... </span>    <span class="k">await</span> <span class="n">websocket</span><span class="o">.</span><span class="n">send_json</span><span class="p">({</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;welcome&quot;</span><span class="p">})</span>
</span><span data-line="22"><span class="gp">&gt;&gt;&gt;</span>
</span><span data-line="23"><span class="gp">&gt;&gt;&gt; </span><span class="n">extractor</span> <span class="o">=</span> <span class="n">StarletteExtractor</span><span class="p">()</span>
</span><span data-line="24"><span class="gp">&gt;&gt;&gt; </span><span class="n">routes</span> <span class="o">=</span> <span class="n">extractor</span><span class="o">.</span><span class="n">extract_routes</span><span class="p">(</span><span class="n">app</span><span class="p">)</span>
</span><span data-line="25"><span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">routes</span><span class="p">)</span>
</span><span data-line="26"><span class="go">3</span>
</span><span data-line="27"><span class="gp">&gt;&gt;&gt; </span><span class="n">routes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">path_params</span>
</span><span data-line="28"><span class="go">{&#39;user_id&#39;: &lt;class &#39;int&#39;&gt;}</span>
</span><span data-line="29"><span class="gp">&gt;&gt;&gt; </span><span class="n">routes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">query_params</span>
</span><span data-line="30"><span class="go">{&#39;include_posts&#39;: &lt;class &#39;bool&#39;&gt;}</span>
</span><span data-line="31"><span class="gp">&gt;&gt;&gt; </span><span class="n">routes</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">is_websocket</span>
</span><span data-line="32"><span class="go">True</span>
</span></pre></div>
</div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>Recursively processes Mount instances to handle sub-applications</p></li>
<li><p>HEAD methods are automatically filtered out for HTTP routes</p></li>
<li><p>Path prefixes from Mount instances are accumulated</p></li>
<li><p>Query parameter extraction handles FastAPI Query/Body annotations</p></li>
<li><p>WebSocket routes have auto_accept=False in their metadata (requires manual accept)</p></li>
</ul>
</div>
</dd></dl>

</dd></dl>

<p>The Starlette extractor works with both Starlette and FastAPI applications.
Since FastAPI is built on Starlette, this extractor handles both frameworks.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="kn">from</span><span class="w"> </span><span class="nn">fastapi</span><span class="w"> </span><span class="kn">import</span> <span class="n">FastAPI</span>
</span><span data-line="2"><span class="kn">from</span><span class="w"> </span><span class="nn">pytest_routes.discovery.starlette</span><span class="w"> </span><span class="kn">import</span> <span class="n">StarletteExtractor</span>
</span><span data-line="3">
</span><span data-line="4"><span class="n">app</span> <span class="o">=</span> <span class="n">FastAPI</span><span class="p">()</span>
</span><span data-line="5">
</span><span data-line="6"><span class="nd">@app</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/users/</span><span class="si">{user_id}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span data-line="7"><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_user</span><span class="p">(</span><span class="n">user_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
</span><span data-line="8">    <span class="o">...</span>
</span><span data-line="9">
</span><span data-line="10"><span class="n">extractor</span> <span class="o">=</span> <span class="n">StarletteExtractor</span><span class="p">()</span>
</span><span data-line="11"><span class="n">routes</span> <span class="o">=</span> <span class="n">extractor</span><span class="o">.</span><span class="n">extract_routes</span><span class="p">(</span><span class="n">app</span><span class="p">)</span>
</span></pre></div>
</div>
</section>
<section id="module-pytest_routes.discovery.openapi">
<span id="openapi-extractor"></span><h4>OpenAPI Extractor<a class="headerlink" href="#module-pytest_routes.discovery.openapi" title="Link to this heading">¶</a></h4>
<p>OpenAPI schema-based route extraction.</p>
<dl class="py class">
<dt class="sig sig-object py" id="pytest_routes.discovery.openapi.OpenAPIExtractor">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pytest_routes.discovery.openapi.</span></span><span class="sig-name descname"><span class="pre">OpenAPIExtractor</span></span><a class="reference internal" href="../_modules/pytest_routes/discovery/openapi.html#OpenAPIExtractor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pytest_routes.discovery.openapi.OpenAPIExtractor" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pytest_routes.discovery.base.RouteExtractor" title="pytest_routes.discovery.base.RouteExtractor"><code class="xref py py-class docutils literal notranslate"><span class="pre">RouteExtractor</span></code></a></p>
<p>Extract routes from an OpenAPI schema.</p>
<p>This extractor provides framework-agnostic route discovery by parsing OpenAPI
(Swagger) schemas. It supports both pre-loaded schemas and runtime schema
extraction from Litestar and FastAPI applications.</p>
<p>The extractor provides comprehensive type conversion from JSON Schema to Python
types, including primitive types (string, integer, number, boolean), complex types
(objects converted to dataclasses), container types (arrays with item types),
reference resolution ($ref support), format-based types (date-time, uuid, email),
and schema composition (allOf, oneOf, anyOf).</p>
<div class="admonition-example admonition">
<p class="admonition-title">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">fastapi</span><span class="w"> </span><span class="kn">import</span> <span class="n">FastAPI</span>
</span><span data-line="2"><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">pydantic</span><span class="w"> </span><span class="kn">import</span> <span class="n">BaseModel</span>
</span><span data-line="3"><span class="gp">&gt;&gt;&gt;</span>
</span><span data-line="4"><span class="gp">&gt;&gt;&gt; </span><span class="n">app</span> <span class="o">=</span> <span class="n">FastAPI</span><span class="p">()</span>
</span><span data-line="5"><span class="gp">&gt;&gt;&gt;</span>
</span><span data-line="6"><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span><span class="w"> </span><span class="nc">User</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
</span><span data-line="7"><span class="gp">... </span>    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>
</span><span data-line="8"><span class="gp">... </span>    <span class="n">email</span><span class="p">:</span> <span class="nb">str</span>
</span><span data-line="9"><span class="gp">&gt;&gt;&gt;</span>
</span><span data-line="10"><span class="gp">&gt;&gt;&gt; </span><span class="nd">@app</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s2">&quot;/users/</span><span class="si">{user_id}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span data-line="11"><span class="gp">&gt;&gt;&gt; </span><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">update_user</span><span class="p">(</span><span class="n">user_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">user</span><span class="p">:</span> <span class="n">User</span><span class="p">):</span>
</span><span data-line="12"><span class="gp">... </span>    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="n">user_id</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">user</span><span class="o">.</span><span class="n">name</span><span class="p">}</span>
</span><span data-line="13"><span class="gp">&gt;&gt;&gt;</span>
</span><span data-line="14"><span class="gp">&gt;&gt;&gt; </span><span class="n">extractor</span> <span class="o">=</span> <span class="n">OpenAPIExtractor</span><span class="p">()</span>
</span><span data-line="15"><span class="gp">&gt;&gt;&gt; </span><span class="n">routes</span> <span class="o">=</span> <span class="n">extractor</span><span class="o">.</span><span class="n">extract_routes</span><span class="p">(</span><span class="n">app</span><span class="p">)</span>
</span><span data-line="16"><span class="gp">&gt;&gt;&gt; </span><span class="n">route</span> <span class="o">=</span> <span class="n">routes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span data-line="17"><span class="gp">&gt;&gt;&gt; </span><span class="n">route</span><span class="o">.</span><span class="n">path_params</span>
</span><span data-line="18"><span class="go">{&#39;user_id&#39;: &lt;class &#39;int&#39;&gt;}</span>
</span><span data-line="19"><span class="gp">&gt;&gt;&gt; </span><span class="n">route</span><span class="o">.</span><span class="n">body_type</span><span class="o">.</span><span class="vm">__name__</span>
</span><span data-line="20"><span class="go">&#39;User&#39;</span>
</span></pre></div>
</div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Variables<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>schema</strong> – Pre-loaded OpenAPI schema dict (optional)</p></li>
<li><p><strong>_type_cache</strong> – Cache of generated dataclass types by name</p></li>
<li><p><strong>_generated_type_counter</strong> – Counter for unique auto-generated type names</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Caches generated dataclass types to avoid duplicates. Supports OpenAPI 3.0+
schemas. Falls back to framework schema extraction if no schema provided.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>schema</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.14)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code></a>] | <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a></span>)</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="pytest_routes.discovery.openapi.OpenAPIExtractor.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">schema</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytest_routes/discovery/openapi.html#OpenAPIExtractor.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pytest_routes.discovery.openapi.OpenAPIExtractor.__init__" title="Link to this definition">¶</a></dt>
<dd><p>Initialize the OpenAPI extractor with an optional pre-loaded schema.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>schema</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.14)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code></a>] | <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a></span>) – An optional pre-loaded OpenAPI schema dictionary. If not provided,
the extractor will attempt to extract the schema from the application
at runtime using framework-specific methods (Litestar’s openapi_schema
or FastAPI’s openapi()).</p>
</dd>
</dl>
<div class="admonition-example admonition">
<p class="admonition-title">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Using pre-loaded schema</span>
</span><span data-line="2"><span class="gp">&gt;&gt;&gt; </span><span class="n">schema</span> <span class="o">=</span> <span class="p">{</span>
</span><span data-line="3"><span class="gp">... </span>    <span class="s2">&quot;openapi&quot;</span><span class="p">:</span> <span class="s2">&quot;3.0.0&quot;</span><span class="p">,</span>
</span><span data-line="4"><span class="gp">... </span>    <span class="s2">&quot;paths&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span data-line="5"><span class="gp">... </span>        <span class="s2">&quot;/users/</span><span class="si">{user_id}</span><span class="s2">&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span data-line="6"><span class="gp">... </span>            <span class="s2">&quot;get&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span data-line="7"><span class="gp">... </span>                <span class="s2">&quot;parameters&quot;</span><span class="p">:</span> <span class="p">[</span>
</span><span data-line="8"><span class="gp">... </span>                    <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;user_id&quot;</span><span class="p">,</span> <span class="s2">&quot;in&quot;</span><span class="p">:</span> <span class="s2">&quot;path&quot;</span><span class="p">,</span> <span class="s2">&quot;schema&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;integer&quot;</span><span class="p">}}</span>
</span><span data-line="9"><span class="gp">... </span>                <span class="p">]</span>
</span><span data-line="10"><span class="gp">... </span>            <span class="p">}</span>
</span><span data-line="11"><span class="gp">... </span>        <span class="p">}</span>
</span><span data-line="12"><span class="gp">... </span>    <span class="p">},</span>
</span><span data-line="13"><span class="gp">... </span><span class="p">}</span>
</span><span data-line="14"><span class="gp">&gt;&gt;&gt; </span><span class="n">extractor</span> <span class="o">=</span> <span class="n">OpenAPIExtractor</span><span class="p">(</span><span class="n">schema</span><span class="o">=</span><span class="n">schema</span><span class="p">)</span>
</span><span data-line="15"><span class="gp">&gt;&gt;&gt;</span>
</span><span data-line="16"><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Using runtime extraction</span>
</span><span data-line="17"><span class="gp">&gt;&gt;&gt; </span><span class="n">extractor</span> <span class="o">=</span> <span class="n">OpenAPIExtractor</span><span class="p">()</span>
</span><span data-line="18"><span class="gp">&gt;&gt;&gt; </span><span class="n">routes</span> <span class="o">=</span> <span class="n">extractor</span><span class="o">.</span><span class="n">extract_routes</span><span class="p">(</span><span class="n">app</span><span class="p">)</span>  <span class="c1"># Schema extracted from app</span>
</span></pre></div>
</div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pytest_routes.discovery.openapi.OpenAPIExtractor.supports">
<span class="sig-name descname"><span class="pre">supports</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">app</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytest_routes/discovery/openapi.html#OpenAPIExtractor.supports"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pytest_routes.discovery.openapi.OpenAPIExtractor.supports" title="Link to this definition">¶</a></dt>
<dd><p>Check if an OpenAPI schema can be extracted from the application.</p>
<dl class="simple">
<dt>This method checks if the extractor can work with the given application by:</dt><dd><ol class="arabic simple">
<li><p>Checking if a pre-loaded schema was provided during initialization</p></li>
<li><p>Checking if the app has an ‘openapi_schema’ attribute (Litestar)</p></li>
<li><p>Checking if the app has an ‘openapi’ method (FastAPI)</p></li>
</ol>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>app</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.14)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code></a></span>) – The ASGI application to check for OpenAPI schema support.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a></span></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>True if an OpenAPI schema is available or can be extracted, False otherwise.</p>
</dd>
</dl>
<div class="admonition-example admonition">
<p class="admonition-title">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">fastapi</span><span class="w"> </span><span class="kn">import</span> <span class="n">FastAPI</span>
</span><span data-line="2"><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">litestar</span><span class="w"> </span><span class="kn">import</span> <span class="n">Litestar</span>
</span><span data-line="3"><span class="gp">&gt;&gt;&gt;</span>
</span><span data-line="4"><span class="gp">&gt;&gt;&gt; </span><span class="c1"># FastAPI support</span>
</span><span data-line="5"><span class="gp">&gt;&gt;&gt; </span><span class="n">fastapi_app</span> <span class="o">=</span> <span class="n">FastAPI</span><span class="p">()</span>
</span><span data-line="6"><span class="gp">&gt;&gt;&gt; </span><span class="n">extractor</span> <span class="o">=</span> <span class="n">OpenAPIExtractor</span><span class="p">()</span>
</span><span data-line="7"><span class="gp">&gt;&gt;&gt; </span><span class="n">extractor</span><span class="o">.</span><span class="n">supports</span><span class="p">(</span><span class="n">fastapi_app</span><span class="p">)</span>
</span><span data-line="8"><span class="go">True</span>
</span><span data-line="9"><span class="gp">&gt;&gt;&gt;</span>
</span><span data-line="10"><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Litestar support</span>
</span><span data-line="11"><span class="gp">&gt;&gt;&gt; </span><span class="n">litestar_app</span> <span class="o">=</span> <span class="n">Litestar</span><span class="p">(</span><span class="n">route_handlers</span><span class="o">=</span><span class="p">[])</span>
</span><span data-line="12"><span class="gp">&gt;&gt;&gt; </span><span class="n">extractor</span><span class="o">.</span><span class="n">supports</span><span class="p">(</span><span class="n">litestar_app</span><span class="p">)</span>
</span><span data-line="13"><span class="go">True</span>
</span><span data-line="14"><span class="gp">&gt;&gt;&gt;</span>
</span><span data-line="15"><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Pre-loaded schema</span>
</span><span data-line="16"><span class="gp">&gt;&gt;&gt; </span><span class="n">schema</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;openapi&quot;</span><span class="p">:</span> <span class="s2">&quot;3.0.0&quot;</span><span class="p">,</span> <span class="s2">&quot;paths&quot;</span><span class="p">:</span> <span class="p">{}}</span>
</span><span data-line="17"><span class="gp">&gt;&gt;&gt; </span><span class="n">extractor_with_schema</span> <span class="o">=</span> <span class="n">OpenAPIExtractor</span><span class="p">(</span><span class="n">schema</span><span class="o">=</span><span class="n">schema</span><span class="p">)</span>
</span><span data-line="18"><span class="gp">&gt;&gt;&gt; </span><span class="n">extractor_with_schema</span><span class="o">.</span><span class="n">supports</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>  <span class="c1"># Any app works with pre-loaded schema</span>
</span><span data-line="19"><span class="go">True</span>
</span></pre></div>
</div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Always returns True if a schema was provided during initialization,
regardless of the application type.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pytest_routes.discovery.openapi.OpenAPIExtractor.extract_routes">
<span class="sig-name descname"><span class="pre">extract_routes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">app</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytest_routes/discovery/openapi.html#OpenAPIExtractor.extract_routes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pytest_routes.discovery.openapi.OpenAPIExtractor.extract_routes" title="Link to this definition">¶</a></dt>
<dd><p>Extract all routes from an OpenAPI schema.</p>
<p>This method parses the OpenAPI schema’s paths section and converts each
operation into a RouteInfo object. It handles parameter extraction,
request body type generation, and metadata extraction.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>app</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.14)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code></a></span>) – The ASGI application to extract routes from. If a pre-loaded schema
was provided during initialization, this parameter is ignored and the
pre-loaded schema is used instead.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>path (route path pattern), methods (HTTP method), name (operation ID),
handler (always None for schema-based extraction), path_params (parameter
name to type mapping), query_params (query parameter mapping), body_type
(dataclass representing request body), tags (OpenAPI tags), deprecated
(deprecation flag), and description (operation summary).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>A list of RouteInfo objects containing complete route metadata</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.14)"><strong>ValueError</strong></a> – If no schema was provided and the app doesn’t support
    OpenAPI schema extraction.</p>
</dd>
</dl>
<div class="admonition-example admonition">
<p class="admonition-title">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">fastapi</span><span class="w"> </span><span class="kn">import</span> <span class="n">FastAPI</span>
</span><span data-line="2"><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">pydantic</span><span class="w"> </span><span class="kn">import</span> <span class="n">BaseModel</span>
</span><span data-line="3"><span class="gp">&gt;&gt;&gt;</span>
</span><span data-line="4"><span class="gp">&gt;&gt;&gt; </span><span class="n">app</span> <span class="o">=</span> <span class="n">FastAPI</span><span class="p">()</span>
</span><span data-line="5"><span class="gp">&gt;&gt;&gt;</span>
</span><span data-line="6"><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span><span class="w"> </span><span class="nc">CreateUser</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
</span><span data-line="7"><span class="gp">... </span>    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>
</span><span data-line="8"><span class="gp">... </span>    <span class="n">email</span><span class="p">:</span> <span class="nb">str</span>
</span><span data-line="9"><span class="gp">&gt;&gt;&gt;</span>
</span><span data-line="10"><span class="gp">&gt;&gt;&gt; </span><span class="nd">@app</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s2">&quot;/users&quot;</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;users&quot;</span><span class="p">],</span> <span class="n">deprecated</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</span><span data-line="11"><span class="gp">&gt;&gt;&gt; </span><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">create_user</span><span class="p">(</span><span class="n">user</span><span class="p">:</span> <span class="n">CreateUser</span><span class="p">):</span>
</span><span data-line="12"><span class="gp">... </span>    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">user</span><span class="o">.</span><span class="n">name</span><span class="p">}</span>
</span><span data-line="13"><span class="gp">&gt;&gt;&gt;</span>
</span><span data-line="14"><span class="gp">&gt;&gt;&gt; </span><span class="nd">@app</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/users/</span><span class="si">{user_id}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">summary</span><span class="o">=</span><span class="s2">&quot;Get a user&quot;</span><span class="p">)</span>
</span><span data-line="15"><span class="gp">&gt;&gt;&gt; </span><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_user</span><span class="p">(</span><span class="n">user_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">include_posts</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
</span><span data-line="16"><span class="gp">... </span>    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="n">user_id</span><span class="p">}</span>
</span><span data-line="17"><span class="gp">&gt;&gt;&gt;</span>
</span><span data-line="18"><span class="gp">&gt;&gt;&gt; </span><span class="n">extractor</span> <span class="o">=</span> <span class="n">OpenAPIExtractor</span><span class="p">()</span>
</span><span data-line="19"><span class="gp">&gt;&gt;&gt; </span><span class="n">routes</span> <span class="o">=</span> <span class="n">extractor</span><span class="o">.</span><span class="n">extract_routes</span><span class="p">(</span><span class="n">app</span><span class="p">)</span>
</span><span data-line="20"><span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">routes</span><span class="p">)</span>
</span><span data-line="21"><span class="go">2</span>
</span><span data-line="22"><span class="gp">&gt;&gt;&gt; </span><span class="n">post_route</span> <span class="o">=</span> <span class="n">routes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span data-line="23"><span class="gp">&gt;&gt;&gt; </span><span class="n">post_route</span><span class="o">.</span><span class="n">methods</span>
</span><span data-line="24"><span class="go">[&#39;POST&#39;]</span>
</span><span data-line="25"><span class="gp">&gt;&gt;&gt; </span><span class="n">post_route</span><span class="o">.</span><span class="n">tags</span>
</span><span data-line="26"><span class="go">[&#39;users&#39;]</span>
</span><span data-line="27"><span class="gp">&gt;&gt;&gt; </span><span class="n">post_route</span><span class="o">.</span><span class="n">body_type</span><span class="o">.</span><span class="vm">__name__</span>
</span><span data-line="28"><span class="go">&#39;CreateUser&#39;</span>
</span><span data-line="29"><span class="gp">&gt;&gt;&gt; </span><span class="n">get_route</span> <span class="o">=</span> <span class="n">routes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
</span><span data-line="30"><span class="gp">&gt;&gt;&gt; </span><span class="n">get_route</span><span class="o">.</span><span class="n">path_params</span>
</span><span data-line="31"><span class="go">{&#39;user_id&#39;: &lt;class &#39;int&#39;&gt;}</span>
</span><span data-line="32"><span class="gp">&gt;&gt;&gt; </span><span class="n">get_route</span><span class="o">.</span><span class="n">query_params</span>
</span><span data-line="33"><span class="go">{&#39;include_posts&#39;: &lt;class &#39;bool&#39;&gt;}</span>
</span><span data-line="34"><span class="gp">&gt;&gt;&gt; </span><span class="n">get_route</span><span class="o">.</span><span class="n">description</span>
</span><span data-line="35"><span class="go">&#39;Get a user&#39;</span>
</span></pre></div>
</div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Only extracts standard HTTP methods (GET, POST, PUT, PATCH, DELETE).
Schema references ($ref) are automatically resolved. Complex request
body schemas are converted to dataclasses. Generated dataclass types
are cached to avoid duplicates. Uses pre-loaded schema if available,
otherwise extracts from app.</p>
</div>
</dd></dl>

</dd></dl>

<p>The OpenAPI extractor parses an OpenAPI specification (JSON or YAML) to
extract route information. This is useful for:</p>
<ul class="simple">
<li><p>Testing against an API specification before implementation</p></li>
<li><p>Testing third-party APIs</p></li>
<li><p>Framework-agnostic route extraction</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="kn">from</span><span class="w"> </span><span class="nn">pytest_routes.discovery.openapi</span><span class="w"> </span><span class="kn">import</span> <span class="n">OpenAPIExtractor</span>
</span><span data-line="2">
</span><span data-line="3"><span class="n">openapi_schema</span> <span class="o">=</span> <span class="p">{</span>
</span><span data-line="4">    <span class="s2">&quot;openapi&quot;</span><span class="p">:</span> <span class="s2">&quot;3.0.0&quot;</span><span class="p">,</span>
</span><span data-line="5">    <span class="s2">&quot;paths&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span data-line="6">        <span class="s2">&quot;/users/</span><span class="si">{user_id}</span><span class="s2">&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span data-line="7">            <span class="s2">&quot;get&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span data-line="8">                <span class="s2">&quot;parameters&quot;</span><span class="p">:</span> <span class="p">[</span>
</span><span data-line="9">                    <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;user_id&quot;</span><span class="p">,</span> <span class="s2">&quot;in&quot;</span><span class="p">:</span> <span class="s2">&quot;path&quot;</span><span class="p">,</span> <span class="s2">&quot;schema&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;integer&quot;</span><span class="p">}}</span>
</span><span data-line="10">                <span class="p">]</span>
</span><span data-line="11">            <span class="p">}</span>
</span><span data-line="12">        <span class="p">}</span>
</span><span data-line="13">    <span class="p">}</span>
</span><span data-line="14"><span class="p">}</span>
</span><span data-line="15">
</span><span data-line="16"><span class="n">extractor</span> <span class="o">=</span> <span class="n">OpenAPIExtractor</span><span class="p">(</span><span class="n">openapi_schema</span><span class="p">)</span>
</span><span data-line="17"><span class="n">routes</span> <span class="o">=</span> <span class="n">extractor</span><span class="o">.</span><span class="n">extract_routes</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>  <span class="c1"># Schema-based, no app needed</span>
</span></pre></div>
</div>
</section>
</section>
</section>
<section id="custom-extractors">
<h2>Custom Extractors<a class="headerlink" href="#custom-extractors" title="Link to this heading">¶</a></h2>
<p>Implement custom extractors for unsupported frameworks:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="kn">from</span><span class="w"> </span><span class="nn">pytest_routes.discovery.base</span><span class="w"> </span><span class="kn">import</span> <span class="n">RouteExtractor</span><span class="p">,</span> <span class="n">RouteInfo</span>
</span><span data-line="2"><span class="kn">from</span><span class="w"> </span><span class="nn">typing</span><span class="w"> </span><span class="kn">import</span> <span class="n">Any</span>
</span><span data-line="3">
</span><span data-line="4"><span class="k">class</span><span class="w"> </span><span class="nc">MyFrameworkExtractor</span><span class="p">(</span><span class="n">RouteExtractor</span><span class="p">):</span>
</span><span data-line="5"><span class="w">    </span><span class="sd">&quot;&quot;&quot;Extractor for MyFramework applications.&quot;&quot;&quot;</span>
</span><span data-line="6">
</span><span data-line="7">    <span class="k">def</span><span class="w"> </span><span class="nf">supports</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">app</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span data-line="8"><span class="w">        </span><span class="sd">&quot;&quot;&quot;Check if this is a MyFramework app.&quot;&quot;&quot;</span>
</span><span data-line="9">        <span class="k">return</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">app</span><span class="p">,</span> <span class="s2">&quot;my_framework_marker&quot;</span><span class="p">)</span>
</span><span data-line="10">
</span><span data-line="11">    <span class="k">def</span><span class="w"> </span><span class="nf">extract_routes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">app</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">RouteInfo</span><span class="p">]:</span>
</span><span data-line="12"><span class="w">        </span><span class="sd">&quot;&quot;&quot;Extract routes from MyFramework app.&quot;&quot;&quot;</span>
</span><span data-line="13">        <span class="n">routes</span> <span class="o">=</span> <span class="p">[]</span>
</span><span data-line="14">        <span class="k">for</span> <span class="n">route_def</span> <span class="ow">in</span> <span class="n">app</span><span class="o">.</span><span class="n">get_routes</span><span class="p">():</span>
</span><span data-line="15">            <span class="n">routes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">RouteInfo</span><span class="p">(</span>
</span><span data-line="16">                <span class="n">path</span><span class="o">=</span><span class="n">route_def</span><span class="o">.</span><span class="n">path</span><span class="p">,</span>
</span><span data-line="17">                <span class="n">methods</span><span class="o">=</span><span class="n">route_def</span><span class="o">.</span><span class="n">methods</span><span class="p">,</span>
</span><span data-line="18">                <span class="n">path_params</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_extract_path_params</span><span class="p">(</span><span class="n">route_def</span><span class="p">),</span>
</span><span data-line="19">                <span class="n">query_params</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_extract_query_params</span><span class="p">(</span><span class="n">route_def</span><span class="p">),</span>
</span><span data-line="20">                <span class="n">body_type</span><span class="o">=</span><span class="n">route_def</span><span class="o">.</span><span class="n">body_model</span><span class="p">,</span>
</span><span data-line="21">            <span class="p">))</span>
</span><span data-line="22">        <span class="k">return</span> <span class="n">routes</span>
</span></pre></div>
</div>
</section>
<section id="see-also">
<h2>See Also<a class="headerlink" href="#see-also" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p><a class="reference internal" href="generation.html"><span class="doc">Strategy Generation</span></a> - How extracted routes are used for test generation</p></li>
<li><p><a class="reference internal" href="execution.html"><span class="doc">Test Execution</span></a> - Running tests against discovered routes</p></li>
<li><p><a class="reference internal" href="index.html#api-reference"><span class="std std-ref">API Reference</span></a> - Complete API overview</p></li>
</ul>
</section>
</section>

        </article><button class="back-to-top" type="button">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
    <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
  </svg>
  <span>Back to top</span>
</button><div class="navigation flex print:hidden"><div class="navigation-prev">
    <a href="config.html">
      <i class="i-lucide chevron-left"></i>
      <div class="page-info">
        <span>Previous</span><div class="title">Configuration</div></div>
    </a>
  </div><div class="navigation-next">
    <a href="generation.html">
      <div class="page-info">
        <span>Next</span>
        <div class="title">Strategy Generation</div>
      </div>
      <i class="i-lucide chevron-right"></i>
    </a>
  </div></div></div>
    </div>
  </main>
</div>
<footer class="sy-foot">
  <div class="sy-foot-inner sy-container mx-auto">
    <div class="sy-foot-reserved md:flex justify-between items-center">
      <div class="sy-foot-copyright"><p>2025, Jacob Coffee</p>
  
  <p>
    Made with
    
    <a href="https://www.sphinx-doc.org/">Sphinx</a> and
    
    <a href="https://shibuya.lepture.com">Shibuya theme</a>.
  </p>
</div>
      <div class="sy-foot-socials">
<a href="https://github.com/JacobCoffee/pytest-routes" aria-label="GitHub">
  <iconify-icon icon="simple-icons:github"></iconify-icon>
</a></div>
    </div>
  </div>
</footer>
      <script src="../_static/documentation_options.js?v=01f34227"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="../_static/copybutton.js?v=30646c52"></script>
      <script src="../_static/design-tabs.js?v=f930bc37"></script>
      <script src="../_static/shibuya.js?v=c1cf1a6b"></script></body>
</html>